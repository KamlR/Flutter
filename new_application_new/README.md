# Update version of news application on Flutter
В конце будет ссылка на видео с работой приложения.
## Актуальное описание
### 1. Что добавилось из функционала?
1.1 На экране подробной информации о новости теперь есть кнопка лайка, чтобы можно было добавить новость в избранные. Соотв. можно и убрать из избранных по кнопке лайка

1.2 Также появился экран, который отображает избранные новости

Скриншоты новых экранов:


<img width="180" alt="Снимок экрана 2024-03-11 в 23 36 29" src="https://github.com/KamlR/Flutter/assets/115434090/fe51d84c-d0e8-4605-89d7-4734cdaf0d23">

<img width="180" alt="Снимок экрана 2024-03-11 в 23 36 56" src="https://github.com/KamlR/Flutter/assets/115434090/87973c50-43e2-4a58-b5ca-c118e632b19e">

<img width="180" alt="Снимок экрана 2024-03-11 в 23 38 18" src="https://github.com/KamlR/Flutter/assets/115434090/31033335-af9e-4404-8720-e728166f6453">

<img width="180" alt="Снимок экрана 2024-03-11 в 23 38 48" src="https://github.com/KamlR/Flutter/assets/115434090/c1777cd5-6452-4de9-945a-05dd01ea9e8b">

### 2. Про код
2.1 На экране подробной информации о новости есть кнопка поставить/убрать лайк. Для реализации управления состоянием UI в данном случае используется Riverpod. При помощи него получилось отслеживать состояние кнопки лайка. Он реализован на экране NewsScreen.

2.2 Код логически разделён по папкам. Отдельно хранятся виждеты, классы провайдеров, классы доступа к серверу, реализация экранов и тд

2.3 В качестве DI используется Provider

### 3. Про тесты
3.4 Есть отдельная папка с тестами, где хранятся:


      3.4.1 Unit тесты. Здесь я тестировала, что переменная, которая отвечает за текущую тему коррректно меняется
      
      3.4.2 Виджет тесты. Есть экран NewsScreen с подробной информацией по новости. Написано два виджет теста, где проверяется, что на упоменутом экране в нужном количестве добавляются виджеты NewsDetailsLong и NewsDetailsShort
      
      3.4.3 Также я пыталась написать интеграционный тест, который бы проверял, что когда убирается лайк у новости и совершается переход на экран избранных новостей, то там всё обновляется. Но тут я немного запуталась с моками библиотеки Dio. Но код остался в соотв. папке интеграционных тестов.

### 4. В целом про реализацию
4.1 Для работы с новостями у меня был написан свой сервер на TypeScript(код для него приложу в папке server). 

4.2 Также я подняла свою бд в Docker 


Вот её скрин:


<img width="380" alt="Снимок экрана 2024-03-11 в 23 17 11" src="https://github.com/KamlR/Flutter/assets/115434090/022521bd-53d7-4e3d-a207-f54b713988a7">

4.3 Данные новостей я получаю из api https://newsapi.org. 
У меня есть отдельный код на Java, который обрабатывает данные с сайта новостей и заполняет мою бд. Его приложу в папке fillDataBase. 

4.4 Важный момент: все запросы у меня уходят на localhost, поэтому я записала отдельное видео, чтобы показать, как работает приложение. 
Ссылка на Google disk с записью: https://drive.google.com/file/d/1zxSO0JN6uAcGbqf1uHqtUxs8kOB6EuBw/view?usp=sharing
